(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,a){e.exports=a.p+"static/media/logo.c1e81673.svg"},189:function(e,t,a){e.exports=a.p+"static/media/logoMD.ae4a0349.png"},258:function(e,t,a){e.exports=a(272)},272:function(e,t,a){"use strict";a.r(t);var n,r,l,c=a(26),o=a(1),i=a.n(o),s=a(60),m=a.n(s),u=a(5),d=a(57),h=a(201),p=a(51),g=a(21),b=a(182),E=a(291),f=a(283),v=a(140),w=function(e){var t=Object(c.useColorMode)().toggleColorMode,a=Object(c.useColorModeValue)("dark","light"),n=Object(c.useColorModeValue)(v.a,v.b);return i.a.createElement(f.a,Object.assign({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(a," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:i.a.createElement(n,null)},e))},k=a(54),x=(a(303),a(285)),S=(a(188),Object(c.keyframes)(n||(n=Object(k.a)(["\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n"]))),a(289)),y=a(290),O=a(292),j=a(293),C=a(203),I=a(294),q=a(299),z=a(300),A=a(189),M=a.n(A),_=a(86),F=a.n(_),P=a(122),R=a(9),$=a(87),D=a(69),T=a(287),L=a(304),Y=a(288),N=a(64),W=Object(N.gql)(r||(r=Object(k.a)(["\n  mutation loginUser($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n        email\n      }\n    }\n  }\n"]))),B=Object(N.gql)(l||(l=Object(k.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token \n      user {\n        _id\n        username\n        email\n      }\n    }\n  }\n"]))),U=a(41),V=a(67),Q=a(142),K=new(function(){function e(){Object(U.a)(this,e)}return Object(V.a)(e,[{key:"getProfile",value:function(){return Object(Q.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(Q.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),G=function(){var e=Object(o.useState)({username:"",email:"",password:""}),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)("false"),l=Object(u.a)(r,1)[0],c=Object(d.useMutation)(B),s=Object(u.a)(c,2),m=s[0],h=s[1].error,p=function(e){var t=e.target,r=t.name,l=t.value;n(Object($.a)({},a,Object(R.a)({},r,l)))},g=function(){var e=Object(P.a)(F.a.mark(function e(t){var r,l;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,m({variables:Object($.a)({},a)});case 6:r=e.sent,l=r.data,K.login(l.addUser.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:n({username:"",email:"",password:""});case 15:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{noValidate:!0,validated:l,onSubmit:g},i.a.createElement(D.a,{id:"username",name:"username",onChange:p,value:a.username,isRequired:!0,mt:2},i.a.createElement(T.a,{name:"username"},"Username"),i.a.createElement(L.a,{name:"username",type:"text",placeholder:"Your username"}),i.a.createElement(Y.a,null,"Username is required!")),i.a.createElement(D.a,{id:"email",name:"email",onChange:p,value:a.email,isRequired:!0,mt:2},i.a.createElement(T.a,{htmlFor:"email"},"Email"),i.a.createElement(L.a,{name:"email",type:"email",placeholder:"Your email address"}),i.a.createElement(Y.a,null,"Email is required!")),i.a.createElement(D.a,{type:"password",placeholder:"Your password",name:"password",onChange:p,value:a.password,isRequired:!0,mt:2},i.a.createElement(T.a,{htmlFor:"password"},"Password"),i.a.createElement(L.a,{name:"password",type:"password",placeholder:"Your Password"}),i.a.createElement(Y.a,null,"Password is required!")),i.a.createElement(C.a,{type:"submit",mt:2},"Submit")),h&&i.a.createElement("div",null,"Sing Up Failed"))},H=function(){var e=Object(o.useState)({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)("false"),l=Object(u.a)(r,1)[0],c=Object(d.useMutation)(W),s=Object(u.a)(c,2),m=s[0],h=s[1].error,p=function(e){var t=e.target,r=t.name,l=t.value;n(Object($.a)({},a,Object(R.a)({},r,l)))},g=function(){var e=Object(P.a)(F.a.mark(function e(t){var r,l;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,m({variables:Object($.a)({},a)});case 6:r=e.sent,l=r.data,K.login(l.login.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:n({email:"",password:""});case 15:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{noValidate:!0,validated:l,onSubmit:g},i.a.createElement(D.a,{id:"email",name:"email",onChange:p,value:a.email,isRequired:!0,mt:2},i.a.createElement(T.a,{htmlFor:"email"},"Email"),i.a.createElement(L.a,{name:"email",type:"email",placeholder:"Your email address"}),i.a.createElement(Y.a,null,"Email is required!")),i.a.createElement(D.a,{type:"password",placeholder:"Your password",name:"password",onChange:p,value:a.password,isRequired:!0,mt:2},i.a.createElement(T.a,{htmlFor:"password"},"Password"),i.a.createElement(L.a,{name:"password",type:"password",placeholder:"Your Password"}),i.a.createElement(Y.a,null,"Password is required!")),i.a.createElement(C.a,{type:"submit",mt:2},"Submit")),h&&i.a.createElement("div",null,"Login failed"))};var J=function(e){e.navLinkSelected,e.setNavLinkSelected;var t=Object(S.a)(),a=t.isOpen,n=t.onOpen,r=t.onClose;return i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,null,i.a.createElement(E.a,{p:"4"},i.a.createElement(O.a,null,i.a.createElement(p.b,{to:"/"},i.a.createElement(x.a,{src:M.a,alt:"placeholder",w:20,h:20})))),i.a.createElement(j.a,null),i.a.createElement(E.a,{p:"4",d:"flex",alignItems:"center"},i.a.createElement(E.a,{mr:3},K.loggedIn()?i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{onClick:function(e){e.preventDefault(),K.logout()}},"LogOut")):i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{onClick:n},"Login/Signup"))),i.a.createElement(O.a,null,i.a.createElement(p.b,{to:"/profile"},i.a.createElement(I.a,{size:"xl"}))))),i.a.createElement(q.a,{isOpen:a,onClose:r,size:"lg"},i.a.createElement(q.e,null),i.a.createElement(q.d,null,i.a.createElement(q.c,null),i.a.createElement(z.e,{variant:"enclosed"},i.a.createElement(z.b,null,i.a.createElement(z.a,null,"Login"),i.a.createElement(z.a,null,"Signup")),i.a.createElement(z.d,null,i.a.createElement(z.c,null,i.a.createElement(q.b,null,i.a.createElement(H,null))),i.a.createElement(z.c,null,i.a.createElement(q.b,null,i.a.createElement(G,null))))))))},Z=a(305),X=a(296),ee=a(297),te=a(301),ae=a(88),ne=a(98),re=a.n(ne);var le,ce,oe,ie,se,me=function(){var e=[{name:"Periodic Table of Elements",cards:118,img:"https://bit.ly/2Z4KKcF"},{name:"Flags of the world",cards:195,img:"https://bit.ly/2Z4KKcF"}];return i.a.createElement(E.a,null,i.a.createElement(E.a,{textAlign:"center",fontSize:"xl",mb:6},"Pick a Deck to Continue or Begin!"),i.a.createElement(Z.a,{minChildWidth:"300px",spacing:10,ml:5,mr:5},i.a.createElement(E.a,null,i.a.createElement(E.a,{textAlign:"center",fontSize:"xl",mb:6},"In Progress"),i.a.createElement(X.a,{direction:"column",justify:"space-evenly",align:"center"},i.a.createElement(p.b,{to:"/game/12345"},i.a.createElement(X.b,{align:"center"},i.a.createElement(ee.a,{boxShadow:"2xl",bg:"red.200",borderRadius:"lg"},i.a.createElement(E.a,{maxW:"sm",borderRadius:"lg",overflow:"hidden"},i.a.createElement(x.a,{src:re.a,alt:"Periodic Table"}),i.a.createElement(E.a,null,e[0].name),i.a.createElement(E.a,null,e[0].cards," cards"),i.a.createElement(E.a,{ml:3,mr:3},i.a.createElement(te.a,{colorScheme:"purple",mb:2,borderRadius:"lg",value:33,hasStripe:"true",size:"md"})),i.a.createElement(E.a,{align:"center",mb:3},i.a.createElement(ae.a,{w:20,h:20,color:"#cd7f32",size:50})))))))),i.a.createElement(E.a,null,i.a.createElement(E.a,{textAlign:"center",fontSize:"xl",mb:6},"Completed"),i.a.createElement(X.a,{direction:"column",align:"center"},i.a.createElement(p.b,{to:"/game/12345"},i.a.createElement(X.b,null,i.a.createElement(ee.a,{boxShadow:"2xl",bg:"red.200",borderRadius:"lg"},i.a.createElement(E.a,{maxW:"sm",borderRadius:"lg",overflow:"hidden"},i.a.createElement(x.a,{src:e[1].img,alt:"placeholder"}),i.a.createElement(E.a,null,e[1].name),i.a.createElement(E.a,null,e[1].cards," cards"),i.a.createElement(E.a,{ml:3,mr:3},i.a.createElement(te.a,{colorScheme:"purple",mb:2,borderRadius:"lg",value:100,hasStripe:"true",size:"md"})),i.a.createElement(E.a,{align:"center",mb:3},i.a.createElement(ae.b,{w:20,h:20,color:"#FFFF00",size:50}))))))))),i.a.createElement(E.a,{textAlign:"center",fontSize:"xl"}))},ue=(Object(N.gql)(le||(le=Object(k.a)(["\n  {\n    me {\n      _id\n      username\n      email\n      badges\n      games {\n        _id\n        score\n        decks {\n          _id\n          deckname\n          description\n          cards {\n            cardId\n            front\n            back\n          }\n        }\n      }\n    }\n  }\n"]))),Object(N.gql)(ce||(ce=Object(k.a)(["\n  {\n    users {\n      _id\n      username\n      email\n      badges\n      games {\n        _id\n        score\n        decks {\n          _id\n          deckname\n          description\n          cards {\n            cardId\n            front\n            back\n          }\n        }\n      }\n    }\n  }\n"]))),Object(N.gql)(oe||(oe=Object(k.a)(["\n  query user($username: String!) {\n    user(username: $username) {\n      _id\n      username\n      email\n      badges\n      games {\n        _id\n        score\n        decks {\n          _id\n          deckname\n          description\n          cards {\n            cardId\n            front\n            back\n          }\n        }\n      }\n    } \n  }\n"]))),Object(N.gql)(ie||(ie=Object(k.a)(["\n  query deck($id: ID! ) {\n    deck(_id: $id) {\n        _id\n        deckname\n        description\n        cards {\n          front\n          back\n          cardId\n        }\n    }\n  }\n"])))),de=Object(N.gql)(se||(se=Object(k.a)(["\n  {\n    decks {\n      _id\n      deckname\n      description\n      cards {\n        front\n        back\n        cardId\n      }\n    }\n  }\n"])));var he=function(){var e=Object(d.useQuery)(de),t=e.loading,a=(e.error,e.data);return t?i.a.createElement("h1",null," Loading "):(console.log(a),i.a.createElement(E.a,null,i.a.createElement(E.a,{textAlign:"center",fontSize:"xl",mb:6},"Pick a Deck to Begin!"),i.a.createElement(X.a,{direction:"column",justify:"space-evenly",align:"center"},a&&a.decks.map(function(e){return i.a.createElement(E.a,null,i.a.createElement(X.b,null,K.loggedIn()?i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{boxShadow:"2xl",bg:"red.200",maxW:"sm",borderRadius:"lg",overflow:"hidden"},i.a.createElement(p.b,{to:"/game/".concat(e._id),key:e._id},i.a.createElement(x.a,{src:re.a,alt:"periodic table"}),i.a.createElement(E.a,null,e.deckname," of Elements"),i.a.createElement(E.a,null,e.cards.length," cards"),i.a.createElement(E.a,{ml:3,mr:3},i.a.createElement(te.a,{colorScheme:"purple",mb:2,borderRadius:"lg",value:1,hasStripe:"true",size:"md"})),i.a.createElement(E.a,{align:"center",mb:3},i.a.createElement(ae.a,{w:20,h:20,color:"#cd7f32",size:50}))))):i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{boxShadow:"2xl",bg:"red.200",maxW:"sm",borderRadius:"lg",overflow:"hidden"},i.a.createElement(x.a,{src:re.a,alt:"periodic table"}),i.a.createElement(E.a,null,e.deckname," of Elements"),i.a.createElement(E.a,null,e.cards.length," cards"),i.a.createElement(E.a,{ml:3,mr:3},i.a.createElement(te.a,{colorScheme:"purple",mb:2,borderRadius:"lg",value:1,hasStripe:"true",size:"md"})),i.a.createElement(E.a,{align:"center",mb:3},i.a.createElement(ae.a,{w:20,h:20,color:"#cd7f32",size:50}))))))}))))},pe=function(){function e(t,a){Object(U.a)(this,e),this.finished=!1,this.matrix=a,this.deck=t,this.progress=0,this.cardsInSet=[],this.problemSet=[],this.correctCards=[],this.incorrectCards=[],this.currentQuestion={},this.result=[[],[],[],[],[]]}return Object(V.a)(e,[{key:"shuffleArray",value:function(e){return e.sort(function(e,t){return Math.random()-.5}),e}},{key:"getTotal",value:function(){for(var e=0,t=0,a=0;a<5;a++)a>2&&(e+=this.matrix[a].length),t+=this.matrix[a].length;return{strong:e,total:t}}},{key:"addNewCards",value:function(e){var t=this,a=this.deck.length-e+1;(this.deck.length-e+1<15?this.deck.slice(e,e+a):this.deck.slice(e,e+15)).forEach(function(e){return t.matrix[2].push(e.cardId)}),console.log(this.matrix)}},{key:"addCardsByScore",value:function(){var e=this.getTotal();e.strong/e.total>=.7&&this.addNewCards(e.total)}},{key:"randomSelect",value:function(){var e,t=this,a=Math.floor(100*Math.random());e=a>=0&&a<40?0:a>=40&&a<70?1:a>=70&&a<85?2:a>=85&&a<95?3:4,this.matrix[e].length<1&&this.randomSelect();var n=this.matrix[e].find(function(e){return-1===t.cardsInSet.indexOf(e)});n?this.cardsInSet.push(n):this.randomSelect()}},{key:"selectCards",value:function(){for(var e=0;e<5;e++)this.shuffleArray(this.matrix[e]);for(var t=0;t<10;t++)this.randomSelect()}},{key:"getCardData",value:function(e){return this.deck.filter(function(t){return t.cardId===e})[0]}},{key:"generateOptions",value:function(e){var t=this.cardsInSet.slice(),a=[];t.splice(t.indexOf(e),1);for(var n=0;n<2;n++){var r=Math.floor(Math.random()*t.length),l=this.getCardData(t[r]);a[n]=l.back,t.splice(r,1)}return a}},{key:"createProblemSet",value:function(){for(var e=0;e<10;e++){var t={question:"",options:[],answer:""},a=this.getCardData(this.cardsInSet[e]);t.question=a.front;var n=this.generateOptions(a.cardId);n.push(a.back),t.options=this.shuffleArray(n),t.answer=a.back,this.problemSet.push(t)}}},{key:"start",value:function(){var e=this.getTotal();0===e.total?(this.addNewCards(0),this.cardsInSet=this.shuffleArray(this.matrix[2]).slice(0,15)):e.total>0&&(this.addCardsByScore(),this.selectCards()),this.createProblemSet()}},{key:"renderNext",value:function(){if(this.progress<10){var e=this.problemSet[this.progress];return this.progress++,9===this.progress&&(this.finished=!0),e}this.tallyResults()}},{key:"isCorrect",value:function(e){return!0===e?(console.log("You are correct!"),this.correctCards.push(this.cardsInSet.shift()),this.progress++,"correct"):(console.log("Sorry, that's not correct"),this.incorrectCards.push(this.cardsInSet.shift()),this.progress++,"incorrect")}},{key:"tallyResults",value:function(){console.log("You've finished this round! \nHere are your results:\n\nCorrect Answers: ".concat(this.correctCards.length,"\nIncorrect Answers: ").concat(this.incorrectCards.length)),this.resortMatrix(this.correctCards,!0),this.resortMatrix(this.incorrectCards,!1),this.correctCards=[],this.incorrectCards=[]}},{key:"resortMatrix",value:function(e,t){var a=this;e.forEach(function(e){for(var n,r=0;r<5;r++){if(-1!==(n=a.matrix[r].indexOf(e))&&!0===t&&r<4){var l=a.matrix[r].splice(n,1);a.matrix[r+1].push(l[0]);break}if(-1!==n&&!1===t&&r>0){var c=a.matrix[r].splice(n,1);a.matrix[r-1].push(c[0]);break}}})}}]),e}(),ge=a(129);var be=function(){var e=Object(o.useState)("Press Start Game to play"),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)([]),l=Object(u.a)(r,2),s=l[0],m=l[1],h=Object(o.useState)({}),p=Object(u.a)(h,2),b=p[0],f=p[1],v=Object(c.useToast)(),w=Object(g.f)().id,k=Object(d.useQuery)(ue,{variables:{id:w}}),x=k.loading,S=k.data;return x?i.a.createElement("h1",null,"Loading..."):(console.log(S),i.a.createElement(E.a,null,i.a.createElement(X.a,{direction:"row",justify:"space-evenly",align:"center"},i.a.createElement(X.b,{p:2},i.a.createElement(C.a,{boxShadow:"2xl",leftIcon:i.a.createElement(ge.a,null),_hover:{bg:"pink"},size:"lg",onClick:function(){return v({title:"Activated!",description:"Mode 1 Activated!",status:"info",duration:2800,isClosable:!0,position:"top"})}},"Mode 1")),i.a.createElement(X.b,{p:2},i.a.createElement(C.a,{boxShadow:"2xl",leftIcon:i.a.createElement(ge.a,null),_hover:{bg:"pink"},size:"lg",onClick:function(){return v({title:"Activated!",description:"Mode 2 Activated!",status:"info",duration:2800,isClosable:!0,position:"top"})}},"Mode 2")),i.a.createElement(X.b,{p:2},i.a.createElement(C.a,{boxShadow:"2xl",leftIcon:i.a.createElement(ge.a,null),_hover:{bg:"pink"},size:"lg",onClick:function(){return v({title:"Activated!",description:"Mode 3 Activated!",status:"info",duration:2800,isClosable:!0,position:"top"})}},"Mode 3"))),i.a.createElement(E.a,{textAlign:"center",fontSize:"xl",mb:6},i.a.createElement(C.a,{m:4,boxShadow:"2xl",onClick:function(){f(function(){var e,t=new pe(S.deck.cards,[[],[],[],[],[]]);t.start(),e=t.renderNext(),n(e.question),m(e.options);var a=e.answer;return{handleInput:function(r){var l=r.target.textContent;console.log(a),alert(a===l),console.log(t.problemSet),t.finished?window.location.replace("/profile"):(e=t.renderNext(),console.log(t.finished),n(e.question),m(e.options),a=e.answer)}}}())}},"Start Game")),i.a.createElement(E.a,null,i.a.createElement(X.a,{direction:"column",justify:"space-between",align:"center"},i.a.createElement(X.b,{boxShadow:"2xl",bg:"red.200",maxW:"sm",borderRadius:"lg",overflow:"hidden"},i.a.createElement(ee.a,{w:"350px",h:"400px",bg:"red.200"},a))),i.a.createElement(X.a,{direction:"row",justify:"space-evenly",align:"center",mt:5},s.map(function(e){return i.a.createElement(X.b,{key:e,p:2},i.a.createElement(C.a,{boxShadow:"2xl",onClick:function(e){b.handleInput(e)}},e))})),i.a.createElement(X.a,{direction:"row",justify:"space-evenly",align:"center",mt:5},i.a.createElement(C.a,{boxShadow:"2xl",onClick:function(){return v({title:"Incorrect!",description:"Question will show up again!",status:"error",duration:2800,isClosable:!0})}},"Incorrect Answer!"),i.a.createElement(C.a,{boxShadow:"2xl",onClick:function(){return v({title:"Correct!",description:"Correct answer provided!",status:"success",duration:2800,isClosable:!0})}},"Correct Answer!"),i.a.createElement(C.a,{boxShadow:"2xl",onClick:function(){return v({title:"Incorrect!",description:"Question will show up again!",status:"error",duration:2800,isClosable:!0})}},"Incorrect Answer!")))))},Ee=new h.a({request:function(e){var t=localStorage.getItem("id_token");e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})},uri:"/graphql"});var fe=function(){var e=Object(o.useState)("Home"),t=Object(u.a)(e,2),a=t[0],n=t[1];return i.a.createElement(d.ApolloProvider,{client:Ee},i.a.createElement(p.a,null,i.a.createElement(b.a,{theme:c.theme},i.a.createElement(E.a,{textAlign:"center",fontSize:"xl"},i.a.createElement(w,{justifySelf:"flex-end",m:5}),i.a.createElement(J,{navLinkSelected:a,setNavLinkSelected:n}),i.a.createElement(g.c,null,i.a.createElement(g.a,{exact:!0,path:"/",component:he}),i.a.createElement(g.a,{exact:!0,path:"/profile",component:me}),i.a.createElement(g.a,{exact:!0,path:"/game/:id",component:be})),i.a.createElement("main",null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(i.a.createElement(o.StrictMode,null,i.a.createElement(c.ColorModeScript,null),i.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},98:function(e,t,a){e.exports=a.p+"static/media/periodic-table.2a4635af.svg"}},[[258,1,2]]]);
//# sourceMappingURL=main.b4fb8cbb.chunk.js.map